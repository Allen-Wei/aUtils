<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>File upload</title>
    <link rel="stylesheet" href="../styles/bootstrap.css"/>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script src="../javascripts/vendor/jquery-1.11.0.js"></script>
    <script src="../javascripts/scripts/aUtils.File.js"></script>
    <style type="text/css">
        #file input[type=file]  { width: 100px; height: 100px; }
        #file { position: relative; }
        #file .fa-upload{font-size: 100px;}
        #file img { width: 200px; }
        #file input { position: absolute; top: 0; left: 0; opacity: 0;z-index: 5; }
    </style>
</head>
<body>

<div id="file"
     data-accept-mime-type="image/*"
     data-test="true"
     data-test-images="https://assets-cdn.github.com/images/modules/dashboard/bootcamp/octocat_fork.png"
     data-reset-btn="true"
     data-reset-btn-class="btn btn-default"
     data-upload-url="/FileUpload/Upload"></div>

<script>

    var $file = $('#file').on('upload.upload.autils', function () {
        console.log('uploading...');
    }).on('complete.upload.autils', function (e) {
        console.log('uploaded.');
        $('span.fa-upload').remove();
    }).on('reseted.upload.autils', function () {
        var $icon = $('<span />').addClass('fa fa-5x fa-upload');
        $(this).append($icon);
    });

    aUtils.File.initial($file[0], {
        multiple: true,
        getImages: function(data) {
            var images = [];
            for (var i = 0; i < data.length; i++) {
                var src = data[i];
                var $img = $('<img />').attr('src', src);
                images.push($img);
            }
            return $('<div />').append(images);
        }
    });
</script>
</body>
</html>